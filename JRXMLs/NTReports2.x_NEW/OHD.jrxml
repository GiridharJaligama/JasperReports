<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 7.1.0.final using JasperReports Library version 6.4.3  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="OHD" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="6a534d32-2692-4270-81d5-6bd5370282b5">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="243"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="745"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="TESTING"/>
	<parameter name="sdate" class="net.sf.jasperreports.types.date.DateRange"/>
	<parameter name="edate" class="net.sf.jasperreports.types.date.DateRange"/>
	<queryString language="SQL">
		<![CDATA[select
      ohd.found_station_ID,
      s1.stationcode as fscode,
      ohd.holding_station_ID,
      s2.stationcode as hscode,
      ohd.OHD_ID,
      ohd.founddate,
      st1.status_ID as stdesc,
      st1.description as status ,  
      st2.status_ID as bdesc,
      st2.description as baggagestatus,
      GROUP_CONCAT(DISTINCT (CONCAT_WS(' ',p.firstname,p.lastname ))) FIRSTNAME,
      GROUP_CONCAT(DISTINCT (CONCAT_WS(' ' ,it.legfrom,IT.FLIGHTNUM))) LEGFROM,
      SUBSTRING_INDEX(GROUP_CONCAT(CAST(it.legto AS CHAR) ORDER BY (IT.ORDER_ID) DESC), ',', 1) AS  LEGTO,
      s3.stationcode as faultstationcode,
      cic.loss_code,
      ohd.color,
      ohd.type,
      ohd.claimnum as  "Bag Tag Number"
from station s1,station s2,status st1,agent,ohd
     left outer join ohd_passenger p on p.OHD_ID = ohd.ID
	 left outer join ohd_itinerary it on it.OHD_ID = ohd.ID
     left outer join station s3 on s3.station_ID = ohd.faultStation_ID
     left outer join company_irregularity_codes cic on cic.code_id = ohd.loss_code
     left outer join status st2 on st2.status_ID=ohd.status_id
where
     s1.station_ID = ohd.found_station_ID and
     s2.station_ID = ohd.holding_station_ID and
     st1.status_ID = ohd.status_ID and
     agent.Agent_ID = ohd.agent_ID
     and $X{BETWEEN, date(ohd.founddate), sdate,edate} 
   --  and $X{IN, s1.companycode_ID,CompanyID}
	 and $X{IN, ohd.status_ID,OhdIncidentStatus}
	 and $X{IN, ohd.disposal_status_id,BagDisposalStatus}
	 and $X{IN, ohd.found_station_ID,FoundStation}
	 and $X{IN, ohd.holding_station_ID,HoldStation}	 
group by ohd.found_station_ID,
      s1.stationcode ,
      holding_station_ID,
      s2.stationcode ,
      ohd.OHD_ID,
      date(ohd.founddate),
      st1.status_ID ,
      st1.description ,  
      st2.status_ID ,
      st2.description,
      s3.stationcode,
      cic.loss_code,
      ohd.color,
      ohd.type,
      ohd.claimnum]]>
	</queryString>
	<field name="found_station_ID" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="found_station_ID"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<field name="fscode" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="fscode"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station"/>
	</field>
	<field name="holding_station_ID" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="holding_station_ID"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<field name="hscode" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="hscode"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station"/>
	</field>
	<field name="OHD_ID" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="OHD_ID"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<field name="founddate" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.label" value="founddate"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<field name="stdesc" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="stdesc"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="status"/>
	</field>
	<field name="status" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="status"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="status"/>
	</field>
	<field name="bdesc" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="bdesc"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="status"/>
	</field>
	<field name="baggagestatus" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="baggagestatus"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="status"/>
	</field>
	<field name="FIRSTNAME" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="FIRSTNAME"/>
	</field>
	<field name="LEGFROM" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="LEGFROM"/>
	</field>
	<field name="LEGTO" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="LEGTO"/>
	</field>
	<field name="faultstationcode" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="faultstationcode"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="station"/>
	</field>
	<field name="loss_code" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="loss_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="company_irregularity_codes"/>
	</field>
	<field name="color" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="color"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<field name="type" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="type"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<field name="Bag Tag Number" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="Bag Tag Number"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ohd"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="61" splitType="Stretch">
			<staticText>
				<reportElement x="196" y="0" width="100" height="30" uuid="fbec7daa-d1cc-4486-8a38-08d13046b74b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4d1e55ea-6d52-4f7b-9244-f6bf218b6fe4"/>
				</reportElement>
				<text><![CDATA[OHD_ID]]></text>
			</staticText>
			<staticText>
				<reportElement x="358" y="0" width="100" height="30" uuid="a48cd7d9-cbfd-4a62-a561-49547284a1f0">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="94b23458-979a-4155-9e44-a1a95e25b3fc"/>
				</reportElement>
				<text><![CDATA[founddate]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="125" splitType="Stretch">
			<textField>
				<reportElement x="196" y="40" width="100" height="30" uuid="5dab0b4e-722e-4296-9d34-299e3d7e5297">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4d1e55ea-6d52-4f7b-9244-f6bf218b6fe4"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{OHD_ID}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="358" y="48" width="100" height="30" uuid="e2c3b05d-e54e-4b8e-aacd-c30f9c43ef79">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="94b23458-979a-4155-9e44-a1a95e25b3fc"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{founddate}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
